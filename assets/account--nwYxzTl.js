import{o as M,t as o,i as x,c as r,S as _,m as k,a as S,b as d,d as g,e as C,M as u,s as $,f as P,r as R,u as U}from"./index-r-E6AtxZ.js";var D=o('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Logga in'),l=o("<br>"),H=o('<button class="btn m-2 bg-primary text-primary-content">Registrera dig här'),T=o('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Registrera dig'),I=o('<button class="btn m-2 bg-primary text-primary-content">Logga in här'),K=o('<section class=p-8><h1 class="text-2xl font-bold">Konto'),O=o('<div><p></p><button class="btn m-2 bg-primary text-primary-content">Logga ut');const[c,s]=d(0),[f,m]=d(""),[b,h]=d(""),[E,y]=d(""),[L,w]=d(!1),[q,A]=d("");function W(){s(1),$.auth.signUp({email:f(),password:b()}).then(n=>{n.error==null?(s(2),w(!0)):(s(3),A(n.error?.toString()??""))}).finally(async()=>setTimeout(()=>s(0),5e3))}function j(){s(1),$.auth.signInWithPassword({email:f(),password:b()}).then(n=>{console.log(n),n.error==null?(s(2),R()?.length):(s(3),A(n.error?.toString()??"")),$.auth.getUser().then(e=>y(e.data.user?.email??""))})}function z(){$.auth.signOut(),y("")}async function B(){y(U()?.email??"")}function G(){return M(()=>{B()}),(()=>{var n=K();return n.firstChild,x(n,r(_,{get when(){return E().length<1},get fallback(){return(()=>{var e=O(),i=e.firstChild,a=i.nextSibling;return x(i,E),a.$$click=z,e})()},get children(){return[r(_,{get when(){return L()},get children(){return[(()=>{var e=D(),i=e.firstChild,a=i.firstChild,v=i.nextSibling,p=v.firstChild;return S(e,"submit",t=>{t.preventDefault(),j(),m(""),h("")}),a.$$input=t=>m(t.target.value),p.$$input=t=>h(t.target.value),g(()=>a.value=f()),g(()=>p.value=b()),e})(),r(C,{get children(){return[r(u,{get when(){return c()==1},children:"♻️"}),r(u,{get when(){return c()==3},children:"❌"}),r(u,{get when(){return c()==1},children:"✅"})]}}),l(),l(),k(()=>q()),l(),"Har du inget konto?",l(),(()=>{var e=H();return e.$$click=()=>{w(!1)},e})()]}}),r(_,{get when(){return!L()},get children(){return[(()=>{var e=T(),i=e.firstChild,a=i.firstChild,v=i.nextSibling,p=v.firstChild;return S(e,"submit",t=>{t.preventDefault(),W(),m(""),h("")}),a.$$input=t=>m(t.target.value),p.$$input=t=>h(t.target.value),g(()=>a.value=f()),g(()=>p.value=b()),e})(),l(),r(C,{get children(){return[r(u,{get when(){return c()==1},children:"♻️"}),r(u,{get when(){return c()==3},children:"❌"}),r(u,{get when(){return c()==1},children:"✅"})]}}),k(()=>q()),l(),l(),"Har du redan ett konto?",l(),(()=>{var e=I();return e.$$click=()=>{w(!0)},e})()]}})]}}),null),n})()}P(["input","click"]);export{G as default};
