import{o as M,t as o,i as x,c as r,S as _,m as S,a as k,b as d,d as p,e as C,M as u,s as $,f as P,g as R,r as U,u as D}from"./index-KKh8SSor.js";var H=o('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Logga in'),i=o("<br>"),I=o('<button class="btn m-2 bg-primary text-primary-content">Registrera dig här'),K=o('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Registrera dig'),O=o('<button class="btn m-2 bg-primary text-primary-content">Logga in här'),W=o('<section class=p-8><h1 class="text-2xl font-bold">Konto'),j=o('<div><p></p><button class="btn m-2 bg-primary text-primary-content">Logga ut');const[c,s]=d(0),[f,m]=d(""),[b,h]=d(""),[E,y]=d(""),[L,w]=d(!1),[q,T]=d("");function z(){s(1),$.auth.signUp({email:f(),password:b()}).then(n=>{n.error==null?(s(2),w(!0),A()):(s(3),T(n.error?.toString()??""))}).finally(async()=>setTimeout(()=>s(0),5e3))}function A(){s(1),$.auth.signInWithPassword({email:f(),password:b()}).then(n=>{console.log(n),n.error==null?(s(2),U()?.length):(s(3),T(n.error?.toString()??"")),$.auth.getUser().then(e=>y(e.data.user?.email??""))})}function B(){$.auth.signOut(),setLocalTeamname(""),P({transactions:[]}),y("")}async function F(){y(D()?.email??"")}function J(){return M(()=>{F()}),(()=>{var n=W();return n.firstChild,x(n,r(_,{get when(){return E().length<1},get fallback(){return(()=>{var e=j(),a=e.firstChild,l=a.nextSibling;return x(a,E),l.$$click=B,e})()},get children(){return[r(_,{get when(){return L()},get children(){return[(()=>{var e=H(),a=e.firstChild,l=a.firstChild,v=a.nextSibling,g=v.firstChild;return k(e,"submit",t=>{t.preventDefault(),A(),m(""),h("")}),l.$$input=t=>m(t.target.value),g.$$input=t=>h(t.target.value),p(()=>l.value=f()),p(()=>g.value=b()),e})(),r(C,{get children(){return[r(u,{get when(){return c()==1},children:"♻️"}),r(u,{get when(){return c()==3},children:"❌"}),r(u,{get when(){return c()==1},children:"✅"})]}}),i(),i(),S(()=>q()),i(),"Har du inget konto?",i(),(()=>{var e=I();return e.$$click=()=>{w(!1)},e})()]}}),r(_,{get when(){return!L()},get children(){return[(()=>{var e=K(),a=e.firstChild,l=a.firstChild,v=a.nextSibling,g=v.firstChild;return k(e,"submit",t=>{t.preventDefault(),z(),m(""),h("")}),l.$$input=t=>m(t.target.value),g.$$input=t=>h(t.target.value),p(()=>l.value=f()),p(()=>g.value=b()),e})(),i(),r(C,{get children(){return[r(u,{get when(){return c()==1},children:"♻️"}),r(u,{get when(){return c()==3},children:"❌"}),r(u,{get when(){return c()==1},children:"✅"})]}}),S(()=>q()),i(),i(),"Har du redan ett konto?",i(),(()=>{var e=O();return e.$$click=()=>{w(!0)},e})()]}})]}}),null),n})()}R(["input","click"]);export{J as default};
