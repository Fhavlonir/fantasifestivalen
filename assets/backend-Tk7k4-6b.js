import{t as x,a as C,b as s,i as l,c as t,d as p,p as F,F as h,q as R,M as d,e as y,s as A,j as D}from"./index-CpZRK5gG.js";var L=x('<section class=p-8><h1 class="text-2xl font-bold">Fantasifestivalen</h1><form><label for=heat>Deltävling: </label><select id=heat><option value=1>1</option><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option></select><br><label for=artist>Artist: </label><select id=artist></select><br><label for=rule>Regel: </label><select id=rule></select><br><input class=btn type=submit>'),$=x("<option>");const[M,j]=s("1"),[f,_]=s(""),[k,q]=s(""),[g,i]=s(0);async function B(n,o){i(1),(await A.from("events").insert({artist:n,rule:o})).error?i(3):i(2),setTimeout(()=>{i(0)},2e3)}function z(){return(()=>{var n=L(),o=n.firstChild,u=o.nextSibling,m=u.firstChild,b=m.nextSibling,S=b.nextSibling,w=S.nextSibling,r=w.nextSibling,E=r.nextSibling,T=E.nextSibling,v=T.nextSibling;return C(u,"submit",e=>{e.preventDefault(),B(f(),k())}),b.$$input=e=>{j(e.currentTarget.value),_("")},r.$$input=e=>{_(e.currentTarget.value)},l(r,t(h,{get each(){return F()?.filter(e=>e.heat.toString()===M())},children:(e,a)=>(()=>{var c=$();return l(c,()=>e.name),p(()=>c.value=e.id),c})()})),v.$$input=e=>{q(e.currentTarget.value)},l(v,t(h,{get each(){return R()},children:e=>(()=>{var a=$();return l(a,()=>e.name),p(()=>a.value=e.id),a})()})),l(n,t(y,{get children(){return[t(d,{get when(){return g()==1},children:"..."}),t(d,{get when(){return g()==2},children:"✅"}),t(d,{get when(){return g()==1},children:"✖️"})]}}),null),p(()=>r.value=f()),n})()}D(["input"]);export{z as default};
