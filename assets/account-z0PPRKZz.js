import{o as M,t as u,i as S,c as r,S as _,m as k,a as C,b as p,d as g,e as E,M as o,u as w,s as $,f as P,g as x,h as R,j as U,r as D}from"./index-CpZRK5gG.js";var H=u('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Logga in'),i=u("<br>"),j=u('<button class="btn m-2 bg-primary text-primary-content">Registrera dig här'),I=u('<form><div class=field-block><input class="input m-2"name=email type=email placeholder=E-post required></div><div class=field-block><input class="input m-2"name=password type=password placeholder=Lösenord required></div><button class="btn m-2 bg-primary text-primary-content"type=submit>Registrera dig'),K=u('<button class="btn m-2 bg-primary text-primary-content">Logga in här'),N=u('<section class=p-8><h1 class="text-2xl font-bold">Konto'),O=u('<div><p></p><button class="btn m-2 bg-primary text-primary-content">Logga ut');const[c,s]=p(0),[f,m]=p(""),[b,h]=p(""),[L,y]=p(!1),[q,T]=p("");function W(){s(1),$.auth.signUp({email:f(),password:b()}).then(n=>{n.error==null?(s(2),y(!0),A()):(s(3),T(n.error?.toString()??""))}).finally(async()=>setTimeout(()=>s(0),5e3))}function A(){s(1),$.auth.signInWithPassword({email:f(),password:b()}).then(n=>{console.log(n),n.error==null?(s(2),D()?.length):(s(3),T(n.error?.toString()??"")),$.auth.getUser().then(e=>x(e.data.user))})}function z(){$.auth.signOut(),P({transactions:[]}),x(null),R("")}async function B(){x(w())}function G(){return M(()=>{B()}),(()=>{var n=N();return n.firstChild,S(n,r(_,{get when(){return w()==null},get fallback(){return(()=>{var e=O(),a=e.firstChild,l=a.nextSibling;return S(a,()=>w()?.email??""),l.$$click=z,e})()},get children(){return[r(_,{get when(){return L()},get children(){return[(()=>{var e=H(),a=e.firstChild,l=a.firstChild,v=a.nextSibling,d=v.firstChild;return C(e,"submit",t=>{t.preventDefault(),A(),m(""),h("")}),l.$$input=t=>m(t.target.value),d.$$input=t=>h(t.target.value),g(()=>l.value=f()),g(()=>d.value=b()),e})(),r(E,{get children(){return[r(o,{get when(){return c()==1},children:"♻️"}),r(o,{get when(){return c()==3},children:"❌"}),r(o,{get when(){return c()==1},children:"✅"})]}}),i(),i(),k(()=>q()),i(),"Har du inget konto?",i(),(()=>{var e=j();return e.$$click=()=>{y(!1)},e})()]}}),r(_,{get when(){return!L()},get children(){return[(()=>{var e=I(),a=e.firstChild,l=a.firstChild,v=a.nextSibling,d=v.firstChild;return C(e,"submit",t=>{t.preventDefault(),W(),m(""),h("")}),l.$$input=t=>m(t.target.value),d.$$input=t=>h(t.target.value),g(()=>l.value=f()),g(()=>d.value=b()),e})(),i(),r(E,{get children(){return[r(o,{get when(){return c()==1},children:"♻️"}),r(o,{get when(){return c()==3},children:"❌"}),r(o,{get when(){return c()==1},children:"✅"})]}}),k(()=>q()),i(),i(),"Har du redan ett konto?",i(),(()=>{var e=K();return e.$$click=()=>{y(!0)},e})()]}})]}}),null),n})()}U(["input","click"]);export{G as default};
